'use strict';var MansionlyApp=angular.module('MansionlyApp',['ngRoute','localytics.directives','base64','ngSanitize','angularFileUpload','ui-rangeSlider','multipleSelect','toaster','ngMaterial','ngAnimate','vAccordion','checklist-model',]).directive('ckEditor',function(){return{require:'?ngModel',link:function(scope,elm,attr,ngModel){var ck=CKEDITOR.replace(elm[0]);if(!ngModel)return;ck.on('pasteState',function(){scope.$apply(function(){ngModel.$setViewValue(ck.getData());});});ngModel.$render=function(value){ck.setData(ngModel.$viewValue);};}};}).directive('errSrc',function(){return{link:function(scope,element,attrs){element.bind('error',function(){if(attrs.src!=attrs.errSrc){attrs.$set('src',attrs.errSrc);$(".designer-imgsm2").css('display','none');}});}}}).filter('startFrom',function(){return function(input,start){start=+start;return input.slice(start);}}).directive('chosen',function(){var linker=function(scope,element,attr){scope.$watch('Info.List',function(oldVal,newVal){element.trigger('chosen:updated');});element.chosen();};return{restrict:'A',link:linker};}).directive('fileUpload2mb',function(){return{scope:true,link:function(scope,el,attrs){el.bind('change',function(event){var files=event.target.files;for(var i=0;i<files.length;i++){if(files[i].size>2097152){alert("File size of "+files[i].name+" is greater than 2MB.");return false;}}for(var i=0;i<files.length;i++){scope.$emit("fileSelected",{file:files[i]});}});}};}).service('waitMe',function(){this.run_waitMe=function(el,num){var text='';var fontSize='';var maxSize='';var textPos='';switch(num){case 1:maxSize='';textPos='vertical';break;case 2:text='';maxSize=30;textPos='vertical';break;case 3:maxSize=30;textPos='horizontal';fontSize='18px';break;}el.waitMe({effect:"bounce",text:text,bg:'rgba(255,255,255,0.75)',color:'rgba(173, 173, 173, 0.75)',maxSize:maxSize,source:'img.svg',textPos:textPos,fontSize:fontSize,onClose:function(){}});};});MansionlyApp.directive('numbersOnly',function(){return{require:'ngModel',link:function(scope,element,attr,ngModelCtrl){function fromUser(text){if(text){var transformedInput=text.replace(/[^0-9-]/g,'');if(transformedInput!==text){ngModelCtrl.$setViewValue(transformedInput);ngModelCtrl.$render();}return transformedInput;}return undefined;}ngModelCtrl.$parsers.push(fromUser);}};}).directive('onlyDigits',function(){return{restrict:'A',require:'?ngModel',link:function(scope,element,attrs,modelCtrl){modelCtrl.$parsers.push(function(inputValue){if(inputValue==undefined)return'';var transformedInput=inputValue.replace(/[^0-9]/g,'');if(transformedInput!==inputValue){modelCtrl.$setViewValue(transformedInput);modelCtrl.$render();}return transformedInput;});}}}).directive('myMaxlength',function(){return{require:'ngModel',link:function(scope,element,attrs,ngModelCtrl){var maxlength=Number(attrs.myMaxlength);function fromUser(text){if(text.length>maxlength){var transformedInput=text.substring(0,maxlength);ngModelCtrl.$setViewValue(transformedInput);ngModelCtrl.$render();return transformedInput;}return text;}ngModelCtrl.$parsers.push(fromUser);}};}).directive('toggleClass',function(){return{restrict:'A',link:function(scope,element,attrs){element.bind('click',function(){element.toggleClass(attrs.toggleClass);});}};}).directive('resizeimage',function(){return{link:function(scope,element,attrs){element.bind("load",function(e){var naturlH=this.naturalHeight;var naturalW=this.naturalWidth;var containerWidth=300.00;var containerHeight=300.00;if(this.attributes.containerWidth!=undefined){var widthN=this.attributes.containerWidth.nodeValue;containerWidth=isNaN(parseFloat(widthN))?300:parseFloat(widthN);}if(this.attributes.containerHeight!=undefined){var heightN=this.attributes.containerHeight.nodeValue;containerHeight=isNaN(parseFloat(heightN))?300:parseFloat(heightN);}if(this.attributes.containerHeight==undefined){if(naturlH>containerWidth&&naturalW>containerWidth){if(naturalW>naturlH){this.width=containerWidth;this.height=containerWidth*(naturlH/naturalW);}if(naturalW<naturlH){this.width=containerWidth*(naturalW/naturlH);this.height=containerWidth}if(naturalW==naturlH){this.width=containerWidth*(naturalW/naturlH);this.height=containerWidth}}else if(naturlH>containerWidth&&naturalW<=containerWidth){if(naturalW<naturlH){this.width=containerWidth*(naturalW/naturlH);this.height=containerWidth}}else if(naturlH<=containerWidth&&naturalW>containerWidth){if(naturalW>naturlH){this.width=containerWidth;this.height=containerWidth*(naturlH/naturalW);}}else if(naturlH==containerWidth&&naturalW==containerWidth){}else if(naturlH<containerWidth&&naturalW<containerWidth){}else if(naturlH<containerWidth&&naturalW<containerWidth){}}else{if(containerHeight<containerWidth){containerWidth=containerHeight;}if(naturlH>containerWidth&&naturalW>containerWidth){if(naturalW>naturlH){this.width=containerWidth;this.height=containerWidth*(naturlH/naturalW);}if(naturalW<naturlH){this.width=containerWidth*(naturalW/naturlH);this.height=containerWidth}if(naturalW==naturlH){this.width=containerWidth*(naturalW/naturlH);this.height=containerWidth}}else if(naturlH>containerWidth&&naturalW<=containerWidth){if(naturalW<naturlH){this.width=containerWidth*(naturalW/naturlH);this.height=containerWidth}}else if(naturlH<=containerWidth&&naturalW>containerWidth){if(naturalW>naturlH){this.width=containerWidth;this.height=containerWidth*(naturlH/naturalW);}}else if(naturlH==containerWidth&&naturalW==containerWidth){}else if(naturlH<containerWidth&&naturalW<containerWidth){if(naturalW>naturlH){this.width=containerHeight*(naturalW/naturlH);;this.height=containerHeight;}}else if(naturlH<containerWidth&&naturalW<containerWidth){}}});}}}).directive('resizeimagenew',function(){return{link:function(scope,element,attrs){element.bind("load",function(e){var naturlH=this.naturalHeight;var naturalW=this.naturalWidth;var containerWidth=300.00;var containerHeight=300.00;if(this.attributes.containerWidth!=undefined){var widthN=this.attributes.containerWidth.nodeValue;containerWidth=isNaN(parseFloat(widthN))?300:parseFloat(widthN);}if(this.attributes.containerHeight!=undefined){var heightN=this.attributes.containerHeight.nodeValue;containerHeight=isNaN(parseFloat(heightN))?300:parseFloat(heightN);}if(this.attributes.containerHeight==undefined){}else{if(naturalW==containerWidth&&naturlH==containerHeight){this.width=naturalW;this.height=naturlH;}else if(naturalW<containerWidth&&naturlH==containerHeight){this.width=naturalW;this.height=naturlH;}else if(naturalW>containerWidth&&naturlH==containerHeight){this.height=containerWidth*(naturlH/naturalW);this.width=containerWidth;}else if(naturalW==containerWidth&&naturlH<containerHeight){this.width=naturalW;this.height=naturlH;}else if(naturalW==containerWidth&&naturlH>containerHeight){this.width=containerHeight*(naturalW/naturlH);this.height=containerHeight;}else if(naturalW<containerWidth&&naturlH<containerHeight){this.width=naturalW;this.height=naturlH;}else if(naturalW>containerWidth&&naturlH>containerHeight){if(naturalW>containerWidth){this.height=containerWidth*(naturlH/naturalW);}if(naturlH>containerHeight){this.width=containerHeight*(naturalW/naturlH);}}}});}}}).filter('strLimit',['$filter',function($filter){return function(input,limit){if(!input)return;if(input.length<=limit){return input;}return $filter('limitTo')(input,limit)+' ...';};}]).filter('textLineLimit',['$filter',function($filter){return function(input,limit){if(!input)return;if(input.length<=limit){return input;}return $filter('limitTo')(input,limit);};}]).filter('capitalize',function(){return function(input,format){if(!input){return input;}format=format||'all';if(format==='first'){return input.charAt(0).toUpperCase()+input.slice(1).toLowerCase();}else{var words=input.split(' ');var result=[];words.forEach(function(word){if(word.length===2&&format==='team'){result.push(word.toUpperCase());}else{result.push(word.charAt(0).toUpperCase()+word.slice(1).toLowerCase());}});return result.join(' ');}};}).filter('limitHtml',function(){return function(text,limit){var changedString=String(text).replace(/<[^>]+>/gm,'');var length=changedString.length;return changedString.length>limit?changedString.substr(0,limit-1):changedString;}}).directive('smartSrc',function(){return{restrict:'A',scope:{smartSrc:'@',smartSrcWatch:'&'},link:function link(scope,element){var unwatcher=scope.$watch(scope.smartSrcWatch,function(newVal){if(newVal){console.log("smart load "+scope.smartSrc);element.attr('src',scope.smartSrc);unwatcher();}});}};});